{"version":3,"file":"1581.654ebf92dc397b7f4628.js?v=654ebf92dc397b7f4628","mappings":"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","sources":["webpack://@jupyterlab/application-top/./node_modules/ajv/dist/ajv.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/codegen/code.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/codegen/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/codegen/scope.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/errors.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/names.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/ref_error.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/resolve.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/rules.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/util.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/validate/applicability.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/validate/dataType.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/validate/defaults.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/validate/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/validate/keyword.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/compile/validate/subschema.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/core.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/runtime/equal.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/runtime/ucs2length.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/runtime/uri.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/runtime/validation_error.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/code.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/core/id.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/core/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/core/ref.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/draft7.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/format/format.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/format/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/metadata.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/const.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/index.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/required.js","webpack://@jupyterlab/application-top/./node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://@jupyterlab/application-top/./node_modules/fast-deep-equal/index.js","webpack://@jupyterlab/application-top/./node_modules/json-schema-traverse/index.js","webpack://@jupyterlab/application-top/./node_modules/uri-js/dist/es5/uri.all.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(baseId ? _resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"uri-js\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch === null || sch === void 0 ? void 0 : sch.$ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n"],"names":["Object","defineProperty","exports","value","MissingRefError","ValidationError","CodeGen","Name","nil","stringify","str","_","KeywordCxt","core_1","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","default","_addVocabularies","super","forEach","v","this","addVocabulary","opts","discriminator","addKeyword","_addDefaultMetaSchema","meta","metaSchema","$data","$dataMetaSchema","addMetaSchema","refs","defaultMeta","getSchema","undefined","module","validate_1","enumerable","get","codegen_1","validation_error_1","ref_error_1","regexpCode","getEsmExportName","getProperty","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","constructor","s","test","Error","toString","emptyStr","names","code","_items","length","item","_a","_str","reduce","c","_names","strs","args","i","push","plus","expr","optimize","arg","interpolate","res","mergeExprItems","splice","a","b","slice","c1","c2","x","Array","isArray","join","JSON","replace","key","rx","or","and","not","operators","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","name","rhs","render","es5","_n","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","error","AnyCode","ParentNode","nodes","n","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","e","ns","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","iterable","Func","async","_async","Return","Try","catch","finally","_b","Catch","Finally","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","prefix","scopeName","scopeValue","prefixOrName","vs","Set","add","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","const","_constant","let","assign","object","keyValues","if","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","for","forRange","forOf","arr","forIn","obj","ownProperties","break","return","try","tryBody","catchCode","finallyCode","_currNode","throw","block","body","nodeCount","endBlock","len","pop","toClose","func","funcBody","endFunc","N1","N2","replaceName","canOptimize","items","some","par","andCode","mappend","orCode","y","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","ng","_nameGroup","index","has","nameStr","setValue","property","itemIndex","scopePath","line","scope","ref","valueKey","_name","Map","set","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","util_1","names_1","message","keyword","schemaType","cxt","errorPaths","overrideAllErrors","it","gen","compositeRule","allErrors","errObj","errorObjectCode","addError","returnErrors","vErrors","errsCount","errors","schemaValue","data","err","instancePath","errorPath","errSchemaPath","verbose","errs","validateName","schemaEnv","$async","E","schemaPath","params","propertyName","schema","parentSchema","createErrors","errorObject","errorInstancePath","errorSchemaPath","extraErrorProps","instPath","getErrorPath","Type","Str","schPath","topSchemaRef","messages","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","resolve_1","env","dynamicAnchors","schemaId","root","baseId","normalizeId","localRefs","sch","_sch","call","rootId","getFullPath","uriResolver","_ValidationError","schemaCxt","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","source","jtd","self","sourceCode","_compilations","validateFunctionCode","validateCode","process","makeValidate","Function","validate","scopeValues","unevaluated","props","evaluated","dynamicProps","dynamicItems","logger","delete","resolveUrl","schOrFunc","resolve","inlineOrCompile","inlineRef","inlineRefs","schEnv","sameSchemaEnv","s1","s2","schemas","p","parse","refPath","_getFullPath","keys","getJsonPointer","id","schOrRef","schId","PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","split","partSchema","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","json","jsonPos","jsonLen","jsonPart","resolver","msg","missingRef","missingSchema","getSchemaRefs","equal","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","serialized","serialize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","addRef","addAnchor","$anchor","$dynamicAnchor","_resolve","ambiguos","checkAmbiguosRef","anchor","sch1","sch2","getRules","isJSONType","_jsonTypes","jsonTypes","groups","number","type","rules","string","array","types","integer","boolean","null","post","all","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","hash","strictSchema","decodeURIComponent","encodeURIComponent","xs","f","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","Math","max","ps","snippets","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","mode","warn","shouldUseRule","shouldUseGroup","schemaHasRulesForType","group","rule","definition","implements","kwd","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","boolError","falseSchemaError","valid","schemaCode","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","rules_1","applicability_1","hasNull","includes","nullable","ts","every","coerceTo","coerceToTypes","coerceTypes","checkTypes","wrongType","strictNumbers","Wrong","coerceData","COERCIBLE","filter","t","dataType","coerced","coerceSpecificType","assignParentData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","ty","properties","assignDefault","prop","defaultValue","childData","useDefaults","getData","boolSchema_1","dataType_1","dataType_2","defaults_1","keyword_1","subschema_1","isSchemaObj","checkKeywords","schemaCxtHasRules","topSchemaObjCode","validateFunction","funcSourceUrl","destructureValCxtES5","destructureValCxt","dynamicRef","$comment","commentKeyword","checkNoDefault","resetEvaluated","typeAndKeywords","returnResults","subschemaCode","subSchemaObjCode","updateContext","checkAsyncSchema","checkRefsAndKeywords","schemaKeywords","checkedTypes","ignoreKeywordsWithRef","rootName","assignEvaluated","typeErrors","keywordCode","checkStrictTypes","groupKeywords","iterateKeywords","strictTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","checkKeywordTypes","includesType","strictTypesError","narrowSchemaTypes","hasApplicableType","schTs","kwdT","withTypes","validateKeywordUsage","validSchemaType","allowUndefined","trackErrors","result","successAction","failAction","failResult","pass","fail","fail$data","invalid$data","append","errorParams","setParams","_error","$dataError","reset","ok","block$data","codeBlock","$dataValid","check$data","validateSchema","wrong$DataType","invalid$DataSchema","st","validateSchemaRef","subschema","appl","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","mergeValidEvaluated","ruleType","funcKeywordCode","macroKeywordCode","compile","JSON_POINTER","RELATIVE_JSON_POINTER","jsonPointer","matches","exec","up","errorMsg","segments","segment","pointerType","macroSchema","macro","schemaRef","useKeyword","checkAsyncKeyword","validateRef","validateKeyword","assignValid","modifying","modifyData","reportErrs","ruleErrs","validateAsync","validateSync","addErrs","validateErrs","_await","passCxt","passContext","passSchema","callValidateCode","deps","dependencies","prototype","hasOwnProperty","errorsText","schemaProp","dpType","nextData","dataContextProps","_nextData","jtdDiscriminator","jtdMetadata","compile_1","codegen_2","$dataRefSchema","uri_1","defaultRegExp","flags","RegExp","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","unicode","MAX_EXPRESSION","requiredOptions","o","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","strict","_optz","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","_meta","_addSchema","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","addSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","removeSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","findIndex","addFormat","separator","dataVar","map","text","keywordsJsonPointers","seg","schemaOrData","regex","startsWith","_compileMetaSchema","currentOpts","checkOpts","options","log","opt","optsSchemas","defs","metaOpts","noLogs","console","KEYWORD_NAME","ruleGroup","find","before","addBeforeRule","_rule","$dataRef","anyOf","ucs2length","pos","charCodeAt","uri","ajv","validation","validateAdditionalItems","validateItems","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","checkAdditionalProperties","additionalPropertyCode","isAdditional","definedProp","propsSchema","isOwnProperty","usePattern","deleteAdditional","applyAdditionalSchema","schCxt","validateUnion","min","minContains","maxContains","next","validateItemsWithCount","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","splitDependencies","propertyDeps","schemaDeps","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","then","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","prefixItems_1","items_1","items2020_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","getApplicator","draft2020","applicator","validateTuple","validateArray","extraItems","schArr","checkStrictTuple","l","fullTuple","minItems","maxItems","prefixItems","passing","validateOneOf","util_2","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","validatePatternProperties","pat","checkMatchingProperties","validateProperties","alwaysValid","additionalProperties","allProps","hasDefault","applyPropertySchema","schemaProperties","noPropertyInData","hasPropFunc","schemaMap","context","dataAndSchema","newRegExp","pattern","u","validArr","notValid","merged","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","inlineRefSchema","schName","callAsyncRef","callSyncRef","addEvaluatedFrom","addErrorsFrom","schEvaluated","types_1","discrError","tagName","DiscrError","Tag","tag","oneOf","mapping","validateMapping","getMapping","tagValue","applyTagSchema","Mapping","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","required","addMapping","enum","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","validate$DataFormat","validateFormat","fmts","fDef","fType","unknownFmt","invalidFmt","callFormat","validData","formatDef","unknownFormat","fmtType","fmtRef","getFormat","validCondition","unknownMsg","fmtDef","fmt","equal_1","useLoop","eql","getEql","vSchema","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","ops","KWDs","maximum","okStr","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","allErrorsMode","exitOnErrorMode","requiredKey","loopAllRequired","loopUntilMissing","j","itemTypes","validateUniqueItems","loopN","loopN2","indices","outer","valueOf","cb","pre","_traverse","additionalItems","contains","propertyNames","arrayKeywords","allOf","propsKeywords","$defs","skipKeywords","multipleOf","maxLength","minLength","maxProperties","minProperties","rootSchema","parentKeyword","keyIndex","escapeJsonPtr","global","factory","merge","_len","arguments","sets","_key","xl","subexp","typeOf","shift","toLowerCase","toUpperCase","toArray","setInterval","target","buildExps","isIRI","ALPHA$$","CR$","DIGIT$$","DQUOTE$$","HEXDIG$$","LF$$","SP$$","PCT_ENCODED$","GEN_DELIMS$$","SUB_DELIMS$$","RESERVED$$","UCSCHAR$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","PATH$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","URI_REFERENCE$","ABSOLUTE_URI$","GENERIC_REF$","RELATIVE_REF$","ABSOLUTE_REF$","SAMEDOC_REF$","AUTHORITY_REF$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","_arr","_i","Symbol","iterator","done","TypeError","toConsumableArray","arr2","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","stringFromCharCode","String","fromCharCode","error$1","RangeError","fn","mapDomain","parts","labels","encoded","ucs2decode","output","counter","extra","ucs2encode","fromCodePoint","apply","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","inputLength","bias","basic","lastIndexOf","oldi","w","baseMinusT","out","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_currentValue2","basicLength","handledCPCount","m","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_currentValue","q","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","match","scheme","userinfo","host","path","query","_stripLeadingZeros","_normalizeIPv4","_matches","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","allZeroFields","acc","field","lastLongest","longestZeroFields","sort","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","isNaN","indexOf","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","tolerant","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","ATEXT$$","QTEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","parse$$1","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_xl","subject","_x2","_xl2","addr","serialize$$1","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uuid"],"sourceRoot":""}